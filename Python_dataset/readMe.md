## Подготовка dataSet
1. Первое, что было сделано. Это перемещение изображений имеющих размер менее 1000 кб из dataset в специальную папку. Изображение, которое весит меньше 1000 кб, как правило оказывалось «битым», то есть их использование не предоставлялось возможным. За это отвечает файл под название ```sherchSmallFilesSize.py``` в папке  ``1. Ищёт файлы которые не соотвествуют кретерию по размеру и перемещает их в новую папку``

2. Второе, что было проделано это отсеивание повторяющихся изображений. Для этого я позаимствовал алгоритм из первого этапа и немного его доработал. 

Из папки с dataset выбираем определённую категорию. В ней же создаётся новая папка, в которую будут копироваться не похожие картинки. После этого происходит сравнение файлов «один ко всем». Сначала берется первый файл из dataset узнаём его размер и сравниваем с размерами других файлов, путём деления.

```python
if image1Size / image2Size > 1.5 or image2Size / image1Size > 1.5:
return False
```
возвращаемое False означает, что изображение не имеет дубликатов и он копируется в новую созданную папку.

Если этого не произошло, то идет второй шаг алгоритма и водится процентное соотношение различий картинок

Две картинки переводится в массив пикселей rgb.

+ если картинки имеют разное количество пикселей, то алгоритм добавляет 1% к процентной разности картинки.
+ если картинки имеют одинаковое   количество пикселей, то алгоритм отнимает 2% к процентной разности картинки.

Если два массива пикселей с rgb имеют одинаковую форму и элементы, то значит, что изображения одинаковые. Картинка не добавляется в папку

```if np.array_equal(arr1,  arr2): return True  ```

Если нет, то вводится фильтр на процентное расхождение (от 0 до 100%, по умолчанию 20 %).

Так вводится переменная накопления. Как только эта переменная будет равна процентному расхождению, то алгоритм делает вывод о том, что изображения удовлетворяют процентному расхождению.

Алгоритм проходится по пикселям двух картинок с одинаковым шагом и сравнивая пиксели у двух картинок.

```python
stringRGB1 = str(int(arr1[i][j][0]) + int(arr1[i][j][1]) + int(arr1[i][j][2]))

stringRGB2 = str(int(arr2[i][j][0]) + int(arr2[i][j][1]) + int(arr2[i][j][2]))
```

![Image alt](https://github.com/IlyaGall/3mpp1901_ilyaGaluzinskiy/raw/master/Python_dataset/images/1.JPG)

Рисунок 1. Условное изображение сравнение пикселей у картинок, расположенных в одной и той же координате.

+ Если пиксель[n,m] rgb 1px != 1px, то добавляется процентная часть к переменной накопления.
+ Если пиксель[n,m]  rgb 1px == 1px, то ничего не добавляется

Когда накопится процентное соотношение различий картинок, и оно будет равно заданному, то картинка добавится в новую папку, если по окончанию алгоритма, процентное соотношение не достигло нужного соотношения, то картинка не добавится.

+ 0% картинки даже одинаковые пройдут тест
+ 100% это совсем разные картинки, имеющие 0 совпадений пикселей.
Для наглядности возьмём картинку из 4 пикселей

![Image alt](https://github.com/IlyaGall/3mpp1901_ilyaGaluzinskiy/raw/master/Python_dataset/images/2.JPG)

Таблица 1. Пояснение как работает фильтр.
